<?xml version="1.0" encoding="utf-8"?>
<diff xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<replace sel="//aiscript/params">

<params>
    <param name="debugchance" default="1"/>
</params>
</replace>


  <replace sel="//attention[@min='unknown']/actions/do_while//do_if[@value='(this.ship.dps.lasers.all + this.ship.dps.missiles.all) gt 0 and this.ship.dps.turrets.all gt 0']/do_if[@value='if (@$primarytarget.exists and $targets.indexof.{$primarytarget} gt 0) then ($targets.{$i} == $primarytarget) else (not $ProcessedAnyTarget)']/do_if[@value='@$OtherTargetExists']">
        <do_if value="@$OtherTargetExists">
          <set_value name="$DamagePct" exact="((this.ship.dps.all - this.ship.dps.turrets.all)f / (this.ship.dps.all)f) * 0.4"/>
          <debug_text text="'DamagePct after adjusting: ' + $DamagePct" chance="if this.ship.isplayerowned then 100 else 0"/>
          <remove_value name="$OtherTargetExists"/>
        </do_if>
          </replace>
  <replace sel="//attention[@min='unknown']/actions/do_while//do_if[@value='(this.ship.dps.lasers.all + this.ship.dps.missiles.all) gt 0 and this.ship.dps.turrets.all gt 0']/do_else">
       <do_else>
          <set_value name="$DamagePct" exact="0.45"/>
        <debug_text text="'DamagePct in 1v1: ' + $DamagePct" chance="if this.ship.isplayerowned then 100 else 0"/>
        </do_else>
          </replace>
</diff> 