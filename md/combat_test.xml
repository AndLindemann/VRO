<?xml version="1.0" encoding="utf-8"?>
<mdscript name="Combat_Test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="D:/x4 extract 2.0b1/libraries/md.xsd">
    <cues>
        <cue name="Fleetcombat_Position">
            <conditions>
                <!-- <event_long_range_scan_sent object="player.entity"/> -->
                <event_cue_signalled cue="md.Setup.GameStart" />
            </conditions>
            <actions>
                <find_sector groupname="$Sector" owner="faction.ownerless" space="player.galaxy" multiple="true" />
                <warp object="player.ship" sector="$Sector.random">
                    <position min="500km" max="600km" />
                </warp>
            </actions>
            <cues>
                <cue name="Fleetcombat_Spawn" instantiate="true">
                    <delay exact="30s"/>
                    <actions>
                        <!-- argon -->
                        <do_all exact="1">
                            <create_ship name="$PLeader" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.carrier]" />
                                <owner exact="faction.player" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <position x="30000m" y="-2500m" z="-20000m" />
                            </create_ship>
                            <set_object_commander object="$PLeader" commander="$PLeader" />
                            <create_order id="'Patrol'" object="$PLeader" default="true">
                                <param name="space" value="$PLeader.sector" />
                            </create_order>
                        </do_all>
                        <do_all exact="5">
                            <create_ship name="$PDestroyer" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.destroyer]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PDestroyer" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PDestroyer" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="10">
                            <create_ship name="$PMedium" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.medium]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PMedium" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PMedium" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="40">
                            <create_ship name="$PFighter" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.fighter]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PFighter" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PFighter" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <remove_value name="$PFighter" />
                        <remove_value name="$PLeader" />
                        <remove_value name="$PDestroyer" />
                        <remove_value name="$PMedium" />
                        <!-- more! -->
                        <!-- <do_all exact="1">
                            <create_ship name="$PLeader" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.carrier]" />
                                <owner exact="faction.player" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <position x="30000m" y="-2500m" z="-20000m" />
                            </create_ship>
                            <set_object_commander object="$PLeader" commander="$PLeader" />
                            <create_order id="'Patrol'" object="$PLeader" default="true">
                                <param name="space" value="$PLeader.sector" />
                            </create_order>
                        </do_all>
                        <do_all exact="5">
                            <create_ship name="$PDestroyer" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.destroyer]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PDestroyer" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PDestroyer" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="10">
                            <create_ship name="$PMedium" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.medium]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PMedium" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PMedium" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="40">
                            <create_ship name="$PFighter" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.fighter]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PFighter" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PFighter" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <remove_value name="$PFighter" />
                        <remove_value name="$PLeader" />
                        <remove_value name="$PDestroyer" />
                        <remove_value name="$PMedium" /> -->
                        <!-- xenon -->
                        <do_all exact="1">
                            <create_ship name="$PLeader" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.carrier]" />
                                <owner exact="faction.xenon" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <position x="-30000m" y="-2500m" z="-20000m" />
                            </create_ship>
                            <set_object_commander object="$PLeader" commander="$PLeader" />
                            <create_order id="'Patrol'" object="$PLeader" default="true">
                                <param name="space" value="$PLeader.sector" />
                            </create_order>
                        </do_all>
                        <do_all exact="5">
                            <create_ship name="$PDestroyer" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.destroyer]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PDestroyer" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PDestroyer" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="10">
                            <create_ship name="$PMedium" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.medium]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PMedium" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PMedium" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="40">
                            <create_ship name="$PFighter" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.fighter]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PFighter" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PFighter" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <remove_value name="$PFighter" />
                        <remove_value name="$PLeader" />
                        <remove_value name="$PDestroyer" />
                        <remove_value name="$PMedium" />
                        <!-- more! -->
                        <!-- <do_all exact="1">
                            <create_ship name="$PLeader" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.carrier]" />
                                <owner exact="faction.xenon" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <position x="-30000m" y="-2500m" z="-20000m" />
                            </create_ship>
                            <set_object_commander object="$PLeader" commander="$PLeader" />
                            <create_order id="'Patrol'" object="$PLeader" default="true">
                                <param name="space" value="$PLeader.sector" />
                            </create_order>
                        </do_all>
                        <do_all exact="5">
                            <create_ship name="$PDestroyer" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.destroyer]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PDestroyer" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PDestroyer" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="10">
                            <create_ship name="$PMedium" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.military, tag.medium]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PMedium" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PMedium" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <do_all exact="40">
                            <create_ship name="$PFighter" zone="player.zone" groupname="$PlayerShips">
                                <select faction="faction.argon" tags="[tag.fighter]" />
                                <owner exact="$PLeader.owner" overridenpc="true" />
                                <loadout>
                                    <level exact="1.0" />
                                </loadout>
                                <safepos object="$PLeader" min="300" max="5km" />
                            </create_ship>
                            <set_object_commander object="$PFighter" commander="$PLeader" />
                            <create_order id="'Escort'" object="$PFighter" default="true">
                                <param name="target" value="$PLeader" />
                                <param name="formation" value="formationshape.pointguard" />
                                <param name="formationparam" value="200m" />
                            </create_order>
                        </do_all>
                        <remove_value name="$PFighter" />
                        <remove_value name="$PLeader" />
                        <remove_value name="$PDestroyer" />
                        <remove_value name="$PMedium" /> -->
                        <debug_text text="'SHIPS ' + $PlayerShips.count" />
                    </actions>
                </cue>
            </cues>
        </cue>
    </cues>
</mdscript>